# netlify.toml

# Build settings
[build]
  functions = "netlify/functions" # Specifies the directory for Netlify Functions
  publish = "."                   # Sets the root directory as the publish directory for the site

# Functions settings
[functions]
  node_version = "18"             # Specifies Node.js version 18 for the function runtime environment
  # Temporarily commented out node_bundler to isolate the parsing issue
  # node_bundler = "esbuild"

# Redirect rules for Single Page Application (SPA) behavior and clean URLs.
[[redirects]]
  from = "/admin/*"
  to = "/admin.html"
  status = 200

[[redirects]]
  from = "/cart/*"
  to = "/cart.html"
  status = 200

[[redirects]]
  from = "/product-details/*"
  to = "/product-details.html"
  status = 200

# Catch-all redirect for Single Page Application (SPA) routing.
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
